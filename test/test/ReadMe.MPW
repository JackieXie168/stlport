#	MPW adaptation of STLport-3_12
#	
#	written by Tsutomu Yoshida, Minokamo, Japan. Aug/14/1998
#	#*TY 01/11/1999 - revised for STLport-3.12
#	
#	this document describes the detailed instructions for building and running the STL testsuite (stl_test) as the mpw tools.


#	*** how to setup STL under MPW environment:
#	===============================================================================================================
#	(1) run the MPW script shown below to setup the shell variable {STL} to point to the STLport312
#	directory. to run this script, open this file (ReadMe.MPW) under MPW and select the script block below
#	and then press "enter' key (not the 'return' key).
#
#	Note: 	this setup script will install a startup script named "STL_Folder_SetUp" 
#			under "{ShellDirectory}Startup Items:" directory.
#	
#(# INSTALL (1)
	if !"{STL}"
		Set exit 0
		Set temp "{Boot}"
		unset STL
		if "{active}" =~ /(Å)¨1:Å/
			directory "{¨1}:"
			Set temp "{¨1}:"
		end
		Loop
			Set temp "`(GetFileName "{temp}" -q -d -m "Where is your ¶"STLport¶" folder?")³dev:null`"
			exit if !"{temp}"
		
			If  !"`Exists "{temp}stl_config.h"`"
				Alert "The folder you have chosen, ¶'{temp}¶', does not appear to be the correct folder."¶
				"¶n¶nPlease choose the main STLport folder (the folder which contains stl_config.h)."
			Else
				Break
			End
		End
		Set -e STL "{temp}"
		set STL > "{ShellDirectory}Startup Items:STL_Folder_SetUp" # save the {STL} setting so that you do not have to run this script every time mpw is booted.
		unset temp
		Set exit 1
	else
		alert "the path to ¶"¶{STL¶}¶" has been set up as: ¶n'{STL}' .¶nMake sure this is up to date."
	end
#)#





#	*** how to try out the testsuite (PPC version):
#	===============================================================================================================
#	target compiler: apple's mpw MrCpp 4.1.0a2
#	
#	(1) run the shell script listed below to compile and link the PPC version of testsuite as the mpw
#	tool by selecting it and press enter. note only the debugging version of the testsuite mpw tool
#	will be generated by the supplied makefile.
#
#(# PPC (1)
	if "{active}" =~ /(Å)¨1:Å/
		directory "{¨1}:"	# setup the working directory
	end
	target "{worksheet}"
	save -a					# save all files (optional)
	unset fullbuild
	#	set fullbuild "-e"
	streamedit MrCpp.mak -o MrCpp.mak -e "1,$ replace -c ° /¶n*¶0x0a/ '¶n'"	#*TY 02/07/1999 - clean up foreign end of lines
	make {fullbuild} stl_test.PPC -f MrCpp.mak > MrCpp.MakeIt ³³ "{worksheet}"
	execute MrCpp.MakeIt ·· "{worksheet}"
#)#


#	(2) run the shell script listed below to execute the PPC version of testsuite mpw tool and
#	compare the output with the standard "stl_test.exp" output. note there will be some different
#	output lines generated by mpw testsuite tool because of the different rand() logic employed by
#	MacOS system.
#
#(# PPC (2)
	set stl_test.PPC.output "MrCpp.exp"		# output to separate file
	#set stl_test.PPC.output "dev:stdout"	# output to {worksheet}
	if "{active}" =~ /(Å)¨1:Å/
		directory "{¨1}:"	# setup the working directory
	end
	target "{worksheet}"
	begin
		echo "###### START:    stl_test.PPC"
		stl_test.PPC < stdin > "{stl_test.PPC.output}"	# run
		echo "###### FINISHED: stl_test.PPC"
	end ·· "{worksheet}"
	if "{stl_test.PPC.output}" != "dev:stdout"
		set exit 0
		comparefiles "{stl_test.PPC.output}" stl_test.exp # compare output file
		set exit 1
	end
#)#





#	*** how to try out the testsuite (68K version):
#	===============================================================================================================
#	target compiler: apple's mpw SCpp 8.8.2

#	(1) run the shell script listed below to compile and link the 68K version of testsuite as the mpw
#	tool by selecting it and press enter. note only the debugging version of the testsuite mpw tool
#	will be generated by the supplied makefile.
#
#(# 68K (1)
	if "{active}" =~ /(Å)¨1:Å/
		directory "{¨1}:"	# setup the working directory
	end
	target "{worksheet}"
	save -a					# save all files (optional)
	unset fullbuild
	#	set fullbuild "-e"
	streamedit SCpp.mak -o SCpp.mak -e "1,$ replace -c ° /¶n*¶0x0a/ '¶n'"	#*TY 02/07/1999 - clean up foreign end of lines
	make {fullbuild} stl_test.68K -f SCpp.mak > SCpp.MakeIt ³³ "{worksheet}"
	execute SCpp.MakeIt ·· "{worksheet}"
#)#


#	(2) run the shell script listed below to execute the 68K version of testsuite mpw tool and
#	compare the output with the standard "stl_test.exp" output. note there will be some different
#	output lines generated by mpw testsuite tool because of the different rand() logic employed by
#	MacOS system.
#
#(# 68K (2)
	set stl_test.68K.output "SCpp.exp"		# output to separate file
	#set stl_test.68K.output "dev:stdout"	# output to {worksheet}
	if "{active}" =~ /(Å)¨1:Å/
		directory "{¨1}:"	# setup the working directory
	end
	target "{worksheet}"
	begin
		echo "###### START:    stl_test.68K"
		stl_test.68K < stdin > "{stl_test.68K.output}"	# run
		echo "###### FINISHED: stl_test.68K"
	end ·· "{worksheet}"
	if "{stl_test.68K.output}" != "dev:stdout"
		set exit 0
		comparefiles "{stl_test.68K.output}" stl_test.exp # compare output file
		set exit 1
	end
#)#


# - end of ReadMe.MPW 01/11/1999

